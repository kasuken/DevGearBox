<UserControl x:Class="DevGearbox.Components.RegexTesterView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <ui:Card Padding="20" Margin="20">
            <StackPanel>
                <TextBlock Text="Regular Expression Tester" Style="{StaticResource HeaderStyle}"/>
                <TextBlock Text="Test regex patterns and see matches in real-time" Opacity="0.8" Margin="0,0,0,15"/>
                
                <!-- RegEx Pattern Input -->
                <Label Content="Regular Expression Pattern:"/>
                <ui:TextBox Name="RegexInput" TextChanged="RegexInput_TextChanged" FontFamily="Consolas"
                         ToolTip="Enter your regex pattern (e.g., \d+, [A-Z]\w+, etc.)"/>
                
                <!-- Test Text Input -->
                <Label Content="Test Text:" Margin="0,15,0,3"/>
                <ui:TextBox Name="TestInput" MinHeight="150" TextChanged="TestInput_TextChanged"
                         FontFamily="Consolas" TextWrapping="Wrap" AcceptsReturn="True"
                         ToolTip="Enter text to test against the regex pattern"/>
                
                <!-- Test Button -->
                <ui:Button Content="Test RegEx" Click="TestRegex_Click" Margin="0,10" 
                           Icon="{ui:SymbolIcon CheckmarkCircle24}"
                           Appearance="Primary" HorizontalAlignment="Left"
                           ToolTip="Click to manually test (auto-tests on input change)"/>
                
                <!-- Match Count -->
                <TextBlock Name="MatchCount" Text="Matches: 0" FontSize="14" 
                           FontWeight="Bold" Margin="0,10,0,5"/>
                
                <!-- Results Output -->
                <Label Content="Match Results:"/>
                <ui:TextBox Name="ResultOutput" MinHeight="200" IsReadOnly="True" FontFamily="Consolas"
                         TextWrapping="Wrap" AcceptsReturn="True"
                         Text="Enter a regex pattern and test text to see results."/>

                <Border Height="1" Background="{DynamicResource ControlStrokeColorDefaultBrush}" Margin="0,20"/>

                <!-- Replace Section -->
                <TextBlock Text="Replace with RegEx" Style="{StaticResource HeaderStyle}"/>
                
                <Label Content="Replacement Text:"/>
                <ui:TextBox Name="ReplacementInput" FontFamily="Consolas"
                         ToolTip="Enter replacement text (use $1, $2 for groups)"/>
                
                <ui:Button Content="Replace" Click="ReplaceText_Click" Margin="0,10" 
                           Icon="{ui:SymbolIcon ArrowSwap24}"
                           Appearance="Primary" HorizontalAlignment="Left"/>
                
                <Label Content="Replacement Result:"/>
                <ui:TextBox Name="ReplaceOutput" MinHeight="120" IsReadOnly="True" FontFamily="Consolas"
                         TextWrapping="Wrap" AcceptsReturn="True"/>

                <!-- Quick Reference -->
                <Border Height="1" Background="{DynamicResource ControlStrokeColorDefaultBrush}" Margin="0,20"/>
                <TextBlock Text="Quick Reference" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <TextBlock FontSize="11" TextWrapping="Wrap" Opacity="0.8">
                    <Run Text="Common Patterns:"/><LineBreak/>
                    <Run Text="  \d - Digit (0-9)"/><LineBreak/>
                    <Run Text="  \w - Word character (a-z, A-Z, 0-9, _)"/><LineBreak/>
                    <Run Text="  \s - Whitespace"/><LineBreak/>
                    <Run Text="  . - Any character"/><LineBreak/>
                    <Run Text="  + - One or more"/><LineBreak/>
                    <Run Text="  * - Zero or more"/><LineBreak/>
                    <Run Text="  ? - Zero or one"/><LineBreak/>
                    <Run Text="  [abc] - Any of a, b, or c"/><LineBreak/>
                    <Run Text="  [^abc] - Not a, b, or c"/><LineBreak/>
                    <Run Text="  (group) - Capture group"/><LineBreak/>
                    <Run Text="  ^ - Start of string"/><LineBreak/>
                    <Run Text="  $ - End of string"/>
                </TextBlock>
            </StackPanel>
        </ui:Card>
    </ScrollViewer>
</UserControl>

